# Migration `20201107200852`

This migration has been generated by Afesoh Brain at 11/7/2020, 8:08:52 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "AssessmentLevel" AS ENUM ('BEGINNER', 'FAIR', 'GOOD', 'VERY_GOOD', 'EXCELLENT');

CREATE TABLE "public"."Language" (
"code" text  NOT NULL ,"id" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Assessment" (
"comprehensionLevel" "AssessmentLevel" NOT NULL ,"id" text  NOT NULL ,"languageId" text  NOT NULL ,"spokenLevel" "AssessmentLevel" NOT NULL ,"writtenLevel" "AssessmentLevel" NOT NULL ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "Language.code" ON "public"."Language"("code")

CREATE UNIQUE INDEX "Assessment_languageId" ON "public"."Assessment"("languageId")

ALTER TABLE "public"."Assessment" ADD FOREIGN KEY ("languageId")REFERENCES "public"."Language"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201107185033..20201107200852
--- datamodel.dml
+++ datamodel.dml
@@ -3,14 +3,14 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Language {
   id         String      @id @default(uuid())
-  code       String
+  code       String      @unique
   assessment Assessment?
 }
 model Assessment {
```
